<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unified Horizontal Menu Template</title>
    <style>
        /* =================================================================== */
        /* UNIFIED HORIZONTAL MENU SYSTEM TEMPLATE                           */
        /* =================================================================== */
        /* This template provides a complete system for creating expandable    */
        /* horizontal menus with inline submenus and branching functionality   */
        /* =================================================================== */

        /* BASE MENU CONTAINER */
        .menu-container {
            position: relative;
        }

        /* MAIN SUBMENU - Expandable Horizontal Container */
        .main-submenu {
            position: absolute;
            top: 100%;
            left: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(139, 69, 19, 0.2);
            border-radius: 8px;
            box-shadow: 0 8px 25px rgba(139, 69, 19, 0.2);
            min-width: 280px; /* Base width for main menu */
            width: max-content; /* Fit content width exactly */
            max-width: 280px; /* Base maximum width */
            max-height: fit-content;
            overflow-y: visible;
            overflow-x: visible; /* Allow horizontal expansion */
            z-index: 1000;
            display: none;
            margin-top: 5px;
            padding: 6px 0;
            /* Custom scrollbar styling */
            scrollbar-width: thin;
            scrollbar-color: rgba(139, 69, 19, 0.3) rgba(139, 69, 19, 0.1);
            /* Smooth transition for horizontal expansion */
            transition: max-width 0.3s ease, width 0.3s ease;
        }

        /* EXPANDED STATE - Horizontally expanded when branching submenu is active */
        .main-submenu.expanded {
            max-width: 950px; /* Expanded to accommodate main menu + branching submenu */
            width: max-content;
        }

        /* Webkit scrollbar styling for better browser support */
        .main-submenu::-webkit-scrollbar {
            width: 6px;
        }

        .main-submenu::-webkit-scrollbar-track {
            background: rgba(139, 69, 19, 0.1);
            border-radius: 3px;
        }

        .main-submenu::-webkit-scrollbar-thumb {
            background: rgba(139, 69, 19, 0.3);
            border-radius: 3px;
        }

        .main-submenu::-webkit-scrollbar-thumb:hover {
            background: rgba(139, 69, 19, 0.5);
        }

        /* SUBMENU SECTIONS - Main content areas */
        .submenu-section {
            margin-bottom: 5px;
        }

        .submenu-section-title {
            font-size: 0.85rem;
            color: #8b4513;
            font-weight: bold;
            padding: 4px 12px 3px 12px;
            margin-bottom: 3px;
            border-bottom: 1px solid rgba(139, 69, 19, 0.15);
        }

        .submenu-section-items {
            padding: 0;
        }

        .submenu-section-items a {
            display: block;
            padding: 6px 12px;
            color: #555;
            text-decoration: none;
            font-size: 0.8rem;
            transition: all 0.2s ease;
            border-radius: 4px;
            margin: 1px 8px;
        }

        .submenu-section-items a:hover {
            background: rgba(139, 69, 19, 0.1);
            color: #8b4513;
        }

        /* BRANCHING SUBMENU CONTAINER - Horizontal Layout System */
        .branching-submenu-container {
            position: relative;
            /* Create horizontal flow when submenu is shown */
            display: flex;
            flex-direction: column;
        }

        /* When branching submenu is shown, create horizontal layout */
        .branching-submenu-container.horizontal-layout {
            flex-direction: row;
            align-items: flex-start;
        }

        /* SUBMENU TOGGLE - Item that triggers branching */
        .submenu-toggle {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }

        .submenu-arrow {
            transition: transform 0.3s ease;
            margin-left: auto;
            font-size: 0.7rem;
        }

        .submenu-arrow.rotated {
            transform: rotate(90deg);
        }

        /* BRANCHING SUBMENU - Inline horizontal content */
        .branching-submenu {
            display: none; /* Hidden by default */
            width: max-content;
            max-width: 650px; /* Horizontal layout width */
            background: rgba(139, 69, 19, 0.05);
            border: 1px solid rgba(139, 69, 19, 0.2);
            border-radius: 6px;
            margin-left: 8px; /* Space from main menu items */
            margin-top: 4px;
            padding: 8px;
            /* Remove absolute positioning - now inline */
            position: static;
            /* Smooth transition for showing/hiding */
            transition: all 0.3s ease;
        }

        .branching-submenu.show {
            display: block;
        }

        /* Prevent animation conflicts when switching between submenus */
        .branching-submenu:not(.show) {
            animation: none !important;
        }

        /* BRANCHING CONTENT SECTIONS - Horizontal columns */
        .branching-section {
            display: inline-block; /* Horizontal layout */
            vertical-align: top;
            margin-right: 12px; /* Space between columns */
            margin-bottom: 0;
            min-width: 80px; /* Minimum width for each section */
        }

        .branching-section-title {
            font-size: 0.8rem;
            color: #8b4513;
            font-weight: bold;
            margin-bottom: 4px;
            padding: 2px 0;
            border-bottom: 1px solid rgba(139, 69, 19, 0.15);
            text-align: center;
            white-space: nowrap;
        }

        .branching-section a {
            display: inline-block; /* Horizontal items */
            padding: 2px 4px;
            color: #555;
            text-decoration: none;
            font-size: 0.65rem;
            transition: all 0.2s ease;
            border-radius: 3px;
            margin: 1px 2px;
            text-align: center;
            white-space: nowrap;
            background: rgba(139, 69, 19, 0.05);
            border: 1px solid rgba(139, 69, 19, 0.1);
            min-width: 16px;
        }

        .branching-section a:hover {
            background: rgba(139, 69, 19, 0.15);
            color: #8b4513;
            transform: translateY(-1px);
        }

        /* MENU ARROW INDICATORS */
        .menu-arrow {
            transition: transform 0.3s ease;
            margin-left: 0.3rem;
        }

        .menu-arrow.rotated {
            transform: rotate(180deg);
        }

        /* MOBILE RESPONSIVE */
        @media (max-width: 768px) {
            .main-submenu {
                min-width: 90vw;
                max-width: 90vw;
                left: 50%;
                transform: translateX(-50%);
            }

            .main-submenu.expanded {
                max-width: 95vw;
            }

            .branching-submenu {
                max-width: 85vw;
                margin-left: 4px;
                padding: 6px;
            }

            .branching-section {
                min-width: 60px;
                margin-right: 8px;
            }
        }
    </style>
</head>
<body>
    <h1>Unified Horizontal Menu System Template</h1>
    
    <!-- =================================================================== -->
    <!-- HTML STRUCTURE TEMPLATE                                             -->
    <!-- =================================================================== -->
    
    <nav>
        <ul>
            <!-- MAIN MENU ITEM -->
            <li class="menu-container" 
                onmouseenter="cancelMenuTimeout('exampleMenu')" 
                onmouseleave="startMenuTimeout('exampleMenu')">
                
                <!-- MAIN MENU TRIGGER -->
                <a href="#example" onclick="toggleMainSubmenu(event)">
                    <i class="fas fa-example-icon"></i> 
                    Example Menu 
                    <i class="fas fa-chevron-down menu-arrow"></i>
                </a>
                
                <!-- MAIN SUBMENU CONTAINER -->
                <div class="main-submenu" id="exampleSubmenu" 
                     onmouseenter="cancelMenuTimeout('exampleMenu')" 
                     onmouseleave="startMenuTimeout('exampleMenu')">
                    
                    <!-- SECTION 1: Regular items -->
                    <div class="submenu-section">
                        <div class="submenu-section-title"><strong>Section 1</strong></div>
                        <div class="submenu-section-items">
                            <a href="#item1" onclick="selectMenuItem('item1')">
                                <i class="fas fa-icon1"></i> Item 1
                            </a>
                            <a href="#item2" onclick="selectMenuItem('item2')">
                                <i class="fas fa-icon2"></i> Item 2
                            </a>
                            <!-- BRANCHING ITEM -->
                            <div class="branching-submenu-container">
                                <a href="#branching-item" onclick="toggleBranchingSubmenu(event, 'section1')" class="submenu-toggle">
                                    <i class="fas fa-branching-icon"></i> Branching Item 
                                    <i class="fas fa-chevron-right submenu-arrow" id="section1-arrow"></i>
                                </a>
                                <!-- INLINE BRANCHING SUBMENU -->
                                <div class="branching-submenu" id="section1BranchingSubmenu">
                                    <!-- BRANCHING COLUMN 1 -->
                                    <div class="branching-section">
                                        <div class="branching-section-title"><strong>Category 1</strong></div>
                                        <a href="#cat1-item1" onclick="selectBranchingItem('section1', 'cat1', 'item1')">1</a>
                                        <a href="#cat1-item2" onclick="selectBranchingItem('section1', 'cat1', 'item2')">2</a>
                                        <a href="#cat1-item3" onclick="selectBranchingItem('section1', 'cat1', 'item3')">3</a>
                                    </div>
                                    <!-- BRANCHING COLUMN 2 -->
                                    <div class="branching-section">
                                        <div class="branching-section-title"><strong>Category 2</strong></div>
                                        <a href="#cat2-item1" onclick="selectBranchingItem('section1', 'cat2', 'item1')">1</a>
                                        <a href="#cat2-item2" onclick="selectBranchingItem('section1', 'cat2', 'item2')">2</a>
                                        <a href="#cat2-item3" onclick="selectBranchingItem('section1', 'cat2', 'item3')">3</a>
                                    </div>
                                    <!-- BRANCHING COLUMN 3 -->
                                    <div class="branching-section">
                                        <div class="branching-section-title"><strong>Category 3</strong></div>
                                        <a href="#cat3-item1" onclick="selectBranchingItem('section1', 'cat3', 'item1')">1</a>
                                        <a href="#cat3-item2" onclick="selectBranchingItem('section1', 'cat3', 'item2')">2</a>
                                        <a href="#cat3-item3" onclick="selectBranchingItem('section1', 'cat3', 'item3')">3</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- SECTION 2: Another section with branching -->
                    <div class="submenu-section">
                        <div class="submenu-section-title"><strong>Section 2</strong></div>
                        <div class="submenu-section-items">
                            <div class="branching-submenu-container">
                                <a href="#branching-item2" onclick="toggleBranchingSubmenu(event, 'section2')" class="submenu-toggle">
                                    <i class="fas fa-branching-icon2"></i> Another Branching Item 
                                    <i class="fas fa-chevron-right submenu-arrow" id="section2-arrow"></i>
                                </a>
                                <div class="branching-submenu" id="section2BranchingSubmenu">
                                    <div class="branching-section">
                                        <div class="branching-section-title"><strong>Type A</strong></div>
                                        <a href="#typeA-1" onclick="selectBranchingItem('section2', 'typeA', 'item1')">1</a>
                                        <a href="#typeA-2" onclick="selectBranchingItem('section2', 'typeA', 'item2')">2</a>
                                    </div>
                                    <div class="branching-section">
                                        <div class="branching-section-title"><strong>Type B</strong></div>
                                        <a href="#typeB-1" onclick="selectBranchingItem('section2', 'typeB', 'item1')">1</a>
                                        <a href="#typeB-2" onclick="selectBranchingItem('section2', 'typeB', 'item2')">2</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
    </nav>

    <script>
        /* =================================================================== */
        /* JAVASCRIPT TEMPLATE FUNCTIONS                                       */
        /* =================================================================== */

        // Menu timeout management (for hover behavior)
        let menuTimeouts = {};

        function startMenuTimeout(menuType) {
            menuTimeouts[menuType] = setTimeout(() => {
                closeSubmenuByType(menuType);
            }, 3000); // 3 second auto-hide
        }

        function cancelMenuTimeout(menuType) {
            if (menuTimeouts[menuType]) {
                clearTimeout(menuTimeouts[menuType]);
                delete menuTimeouts[menuType];
            }
        }

        // Toggle main submenu
        function toggleMainSubmenu(event) {
            event.preventDefault();
            event.stopPropagation();
            
            const submenu = document.getElementById('exampleSubmenu');
            const menuParent = submenu.closest('.menu-container');
            const arrow = menuParent.querySelector('.menu-arrow');
            
            const isCurrentlyOpen = submenu.classList.contains('show');
            
            // Close all other submenus first
            closeAllOtherSubmenus('exampleMenu');
            
            if (isCurrentlyOpen) {
                // Close current submenu
                submenu.classList.remove('show');
                menuParent.classList.remove('active');
                arrow.classList.remove('rotated');
                cancelMenuTimeout('exampleMenu');
            } else {
                // Open current submenu
                submenu.classList.add('show');
                menuParent.classList.add('active');
                arrow.classList.add('rotated');
                startMenuTimeout('exampleMenu');
                
                // Add click-outside listener
                setTimeout(() => {
                    document.addEventListener('click', closeMainSubmenuOnClickOutside);
                }, 100);
            }
        }

        // Toggle branching submenu - CORE HORIZONTAL EXPANSION LOGIC
        function toggleBranchingSubmenu(event, sectionType) {
            event.preventDefault();
            event.stopPropagation();
            
            const submenuId = sectionType + 'BranchingSubmenu';
            const arrowId = sectionType + '-arrow';
            
            const branchingSubmenu = document.getElementById(submenuId);
            const arrow = document.getElementById(arrowId);
            const mainSubmenu = document.getElementById('exampleSubmenu');
            
            // Close other branching submenus if open
            const allBranchingSubmenus = document.querySelectorAll('.branching-submenu');
            const allArrows = document.querySelectorAll('.submenu-arrow');
            
            allBranchingSubmenus.forEach(submenu => {
                if (submenu.id !== submenuId && submenu.classList.contains('show')) {
                    submenu.classList.remove('show');
                    // Reset horizontal layout for other submenus
                    const container = submenu.closest('.branching-submenu-container');
                    if (container) {
                        container.classList.remove('horizontal-layout');
                    }
                }
            });
            
            allArrows.forEach(arr => {
                if (arr.id !== arrowId) {
                    arr.classList.remove('rotated');
                }
            });
            
            // Toggle current branching submenu
            const isOpening = !branchingSubmenu.classList.contains('show');
            
            if (isOpening) {
                // ENABLE HORIZONTAL LAYOUT
                const container = branchingSubmenu.closest('.branching-submenu-container');
                if (container) {
                    container.classList.add('horizontal-layout');
                }
                
                branchingSubmenu.classList.add('show');
                arrow.classList.add('rotated');
                mainSubmenu.classList.add('expanded');
                console.log(`ðŸŽ¯ ${sectionType} branching submenu opened - Horizontal layout activated`);
                
            } else {
                // DISABLE HORIZONTAL LAYOUT
                branchingSubmenu.classList.remove('show');
                arrow.classList.remove('rotated');
                
                const container = branchingSubmenu.closest('.branching-submenu-container');
                if (container) {
                    container.classList.remove('horizontal-layout');
                }
                
                // Check if any branching submenu is still open
                setTimeout(() => {
                    const anyBranchingOpen = document.querySelector('.branching-submenu.show');
                    if (!anyBranchingOpen) {
                        mainSubmenu.classList.remove('expanded');
                        console.log(`ðŸŽ¯ ${sectionType} branching submenu closed - Main menu contracted`);
                    }
                }, 150);
            }
        }

        // Handle branching item selection
        function selectBranchingItem(section, category, item) {
            console.log(`âœ… Selected: ${section} > ${category} > ${item}`);
            
            // Close all menus
            const mainSubmenu = document.getElementById('exampleSubmenu');
            const menuParent = mainSubmenu.closest('.menu-container');
            mainSubmenu.classList.remove('show');
            mainSubmenu.classList.remove('expanded');
            menuParent.classList.remove('active');
            
            // Close branching submenus
            document.querySelectorAll('.branching-submenu').forEach(submenu => {
                submenu.classList.remove('show');
                const container = submenu.closest('.branching-submenu-container');
                if (container) {
                    container.classList.remove('horizontal-layout');
                }
            });
            
            // Reset arrows
            document.querySelectorAll('.submenu-arrow').forEach(arrow => {
                arrow.classList.remove('rotated');
            });
            document.querySelectorAll('.menu-arrow').forEach(arrow => {
                arrow.classList.remove('rotated');
            });
            
            // Remove click-outside listener
            document.removeEventListener('click', closeMainSubmenuOnClickOutside);
            
            // Your navigation logic here
            alert(`Navigation to: ${section} > ${category} > ${item}`);
        }

        // Handle regular menu item selection
        function selectMenuItem(item) {
            console.log(`âœ… Selected: ${item}`);
            // Your navigation logic here
            alert(`Navigation to: ${item}`);
        }

        // Close submenu on outside click
        function closeMainSubmenuOnClickOutside(event) {
            const submenu = document.getElementById('exampleSubmenu');
            const menuContainer = submenu.closest('.menu-container');
            
            if (!menuContainer.contains(event.target)) {
                submenu.classList.remove('show');
                submenu.classList.remove('expanded');
                menuContainer.classList.remove('active');
                
                // Close all branching submenus
                document.querySelectorAll('.branching-submenu').forEach(branchingSubmenu => {
                    branchingSubmenu.classList.remove('show');
                    const container = branchingSubmenu.closest('.branching-submenu-container');
                    if (container) {
                        container.classList.remove('horizontal-layout');
                    }
                });
                
                // Reset all arrows
                document.querySelectorAll('.submenu-arrow').forEach(arrow => {
                    arrow.classList.remove('rotated');
                });
                document.querySelectorAll('.menu-arrow').forEach(arrow => {
                    arrow.classList.remove('rotated');
                });
                
                document.removeEventListener('click', closeMainSubmenuOnClickOutside);
            }
        }

        // Close all other submenus (implement based on your other menus)
        function closeAllOtherSubmenus(currentMenu) {
            // Add logic to close other main menus
            console.log(`Closing other submenus, keeping ${currentMenu} open`);
        }

        // Close submenu by type
        function closeSubmenuByType(menuType) {
            if (menuType === 'exampleMenu') {
                const submenu = document.getElementById('exampleSubmenu');
                const menuParent = submenu.closest('.menu-container');
                submenu.classList.remove('show');
                submenu.classList.remove('expanded');
                menuParent.classList.remove('active');
                
                // Close branching submenus
                document.querySelectorAll('.branching-submenu').forEach(branchingSubmenu => {
                    branchingSubmenu.classList.remove('show');
                    const container = branchingSubmenu.closest('.branching-submenu-container');
                    if (container) {
                        container.classList.remove('horizontal-layout');
                    }
                });
                
                // Reset arrows
                document.querySelectorAll('.submenu-arrow').forEach(arrow => {
                    arrow.classList.remove('rotated');
                });
                document.querySelectorAll('.menu-arrow').forEach(arrow => {
                    arrow.classList.remove('rotated');
                });
                
                document.removeEventListener('click', closeMainSubmenuOnClickOutside);
            }
        }
    </script>

    <!-- =================================================================== -->
    <!-- IMPLEMENTATION GUIDE                                                 -->
    <!-- =================================================================== -->
    
    <div style="margin-top: 50px; padding: 20px; background: #f5f5f5; border-radius: 8px;">
        <h2>ðŸ“‹ Implementation Guide</h2>
        
        <h3>ðŸŽ¯ Quick Setup Steps:</h3>
        <ol>
            <li><strong>Copy CSS:</strong> Copy all styles with class prefix for your menu type</li>
            <li><strong>Adapt HTML:</strong> Replace IDs, classes, and content for your specific menu</li>
            <li><strong>Update JavaScript:</strong> Modify function names and IDs to match your menu</li>
            <li><strong>Customize:</strong> Adjust colors, sizes, and transitions to match your design</li>
        </ol>
        
        <h3>ðŸ”§ Key Customization Points:</h3>
        <ul>
            <li><strong>Menu Width:</strong> Adjust <code>min-width</code>, <code>max-width</code> in <code>.main-submenu</code></li>
            <li><strong>Expanded Width:</strong> Modify <code>max-width: 950px</code> in <code>.main-submenu.expanded</code></li>
            <li><strong>Branching Width:</strong> Change <code>max-width: 650px</code> in <code>.branching-submenu</code></li>
            <li><strong>Colors:</strong> Update <code>rgba(139, 69, 19, ...)</code> values throughout</li>
            <li><strong>Animation Speed:</strong> Modify <code>transition: ... 0.3s ease</code> values</li>
        </ul>
        
        <h3>ðŸŽ¨ CSS Class Naming Convention:</h3>
        <pre>
.your-menu-name-menu          â†’ Main menu container
.your-menu-name-submenu       â†’ Main submenu
.your-menu-name-submenu.expanded â†’ Expanded state
.branching-submenu-container   â†’ Branching container (reusable)
.branching-submenu            â†’ Branching submenu (reusable)
.branching-section            â†’ Individual columns (reusable)
        </pre>
        
        <h3>ðŸš€ JavaScript Function Template:</h3>
        <pre>
function toggleYourMenuSubmenu(event) { ... }
function toggleYourMenuBranching(event, type) { ... }
function selectYourMenuItem(item) { ... }
function closeYourMenuOnClickOutside(event) { ... }
        </pre>
        
        <h3>âœ¨ Features Included:</h3>
        <ul>
            <li>âœ… Unified horizontal expansion (280px â†’ 950px)</li>
            <li>âœ… Inline branching submenus with flex layout</li>
            <li>âœ… Smooth CSS transitions</li>
            <li>âœ… Auto-hide with hover management</li>
            <li>âœ… Click-outside closing</li>
            <li>âœ… Mobile responsive design</li>
            <li>âœ… Multiple branching sections support</li>
            <li>âœ… Conflict prevention between branches</li>
        </ul>
    </div>
</body>
</html> 